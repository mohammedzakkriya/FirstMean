<div class="container">
  <div class="row">
    <div class="center-form panel">
      <div class="panel-body">
        <form method="post" ng-submit="editprofile()" name="profileForm">
          <h2 class="text-center">Profile</h2>

          <div class="form-group has-feedback" ng-class="{ 'has-error' : profileForm.name.$invalid && profileForm.name.$dirty }">
          <div class="form-label" ng-if="editmode==false"><label>Full Name: </label><label>{{profile.name}}</label></div>
            <input class="form-control input-lg" type="text" name="name" ng-model="profile.name" required ng-if="editmode==true">
            <span class="ion-person form-control-feedback" ng-if="editmode==true"></span>
            <div class="help-block text-danger" ng-if="profileForm.name.$dirty" ng-messages="profileForm.name.$error">
              <div ng-message="required">You must enter your name.</div>
            </div>
          </div>
          <div class="form-group has-feedback" ng-class="{ 'has-error' : profileForm.phone.$invalid && profileForm.phone.$dirty }">
            <div class="form-label" ng-if="editmode==false"><label>Phone: </label><label>{{profile.phone}}</label></div>
            <input class="form-control input-lg" type="text" name="phone" ng-model="profile.phone"  required ng-if="editmode==true" >
            <span class="ion-person form-control-feedback" ng-if="editmode==true"></span>
            <div class="help-block text-danger" ng-if="profileForm.phone.$dirty" ng-messages="profileForm.phone.$error">
              <div ng-message="required">You must enter your Phone Number.</div>
            </div>
          </div>
          <div class="form-group has-feedback" ng-class="{ 'has-error' : profileForm.dob.$invalid && profileForm.dob.$dirty }">
          <div class="form-label" ng-if="editmode==false"><label>DOB: </label><label>{{profile.dob}}</label></div>
          <input type="text" class="form-control input-lg" uib-datepicker-popup="{{format}}" ng-model="profile.dob" name="dob" is-open="popup2.opened" datepicker-options="dateOptions" ng-required="true" close-text="Close" alt-input-formats="altInputFormats" ng-click="open2()"  ng-if="editmode==true"/>
          <span class="fa fa-calendar form-control-feedback" ng-if="editmode==true"></span>
          <div class="help-block text-danger" ng-if="profileForm.dob.$dirty" ng-messages="profileForm.dob.$error">
            <div ng-message="required">Please enter date of birth.</div>
          </div>
          </div>
          <div class="form-group has-feedback" ng-class="{ 'has-error' : profileForm.gender.$invalid && profileForm.gender.$dirty }">
          <div class="form-label" ng-if="editmode==false"><label>Gender: </label><label>{{profile.gender}}</label></div>
                  <select class="form-control input-lg" ng-model="profile.gender" name="gender" ng-if="editmode==true">
                    <option value="" selected>Select Gender</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
           </select>
           <span class="ion-person form-control-feedback" ng-if="editmode==true"></span>
          </div>
          <div class="form-group has-feedback" ng-class="{ 'has-error' : profileForm.email.$invalid && profileForm.email.$dirty }">
           <div class="form-label" ng-if="editmode==false"><label>Email: </label><label>{{profile.email}}</label></div>
            <input unique-email class="form-control input-lg" type="email" id="email" name="email" ng-model="profile.email"  required autofocus ng-if="editmode==true">
            <span class="ion-at form-control-feedback" ng-if="editmode==true"></span>
            <div class="help-block text-danger" ng-if="profileForm.email.$dirty" ng-messages="profileForm.email.$error">
              <div ng-message="required">Your email address is required.</div>
              <div ng-message="email">Your email address is invalid.</div>
              <div ng-message="unique"><span class="ion-looping"></span> Email is already taken.</div>
            </div>
          </div>

          <div class="form-group has-feedback" ng-class="{ 'has-error' : profileForm.password.$invalid && profileForm.password.$dirty }">
          <div class="form-label" ng-if="editmode==false"><label>Password: </label><label>*****</label></div>
            <input password-strength class="form-control input-lg" type="password" name="password" ng-model="profile.password"  required ng-if="editmode==true" >
            <span class="ion-key form-control-feedback" ng-if="editmode==true"></span>
            <div class="help-block text-danger" ng-if="profileForm.password.$dirty" ng-messages="profileForm.password.$error">
              <div ng-message="required">Password is required.</div>
            </div>
          </div>
           
          <button type="button"  class="btn btn-lg btn-block btn-primary" ng-click="enableEditMode()" ng-if="editmode==false">Edit</button>
          <button type="submit" ng-disabled="profileForm.$invalid" class="btn btn-lg btn-block btn-primary" ng-if="editmode==true">Save</button>
          <br/>

        </form>
      </div>
    </div>
  </div>
</div>